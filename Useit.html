<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ColabEsports Profile & Tournaments</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>


    :root {
      --primary: #DA2700;
      --secondary: #FFA700;
      --accent: #DA2700;
      --dark: #1b1b1b;
      --light: #f8f9fa;
      --success: #FFA700;
      --warning: #f72585;
    }

    /* Preloader Styles */
    .preloader {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: #000;
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 9999;
      transition: opacity 0.5s ease;
    }

    .preloader.fade-out {
      opacity: 0;
      pointer-events: none;
    }

    .loader {
      width: 100px;
      height: 100px;
      position: relative;
    }

    .loader-circle {
      position: absolute;
      width: 100%;
      height: 100%;
      border: 3px solid transparent;
      border-top-color: var(--primary);
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    .loader-circle:nth-child(2) {
      width: 70px;
      height: 70px;
      top: 15px;
      left: 15px;
      border-top-color: var(--secondary);
      animation: spin 0.8s linear infinite reverse;
    }

    .loader-circle:nth-child(3) {
      width: 40px;
      height: 40px;
      top: 30px;
      left: 30px;
      border-top-color: #fff;
      animation: spin 0.6s linear infinite;
    }

    .loader-text {
      position: absolute;
      bottom: -40px;
      left: 50%;
      transform: translateX(-50%);
      color: var(--primary);
      font-weight: 600;
      font-size: 14px;
      letter-spacing: 2px;
      text-transform: uppercase;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    /* Header Styles */
    .header {
      background: rgba(10, 10, 10, 0.95);
      backdrop-filter: blur(10px);
      padding: 1rem 0;
      position: sticky;
      top: 0;
      z-index: 1000;
      box-shadow: 0 4px 20px rgba(218, 39, 0, 0.2);
      border-bottom: 1px solid rgba(218, 39, 0, 0.3);
    }

    /* Scrollbar for dropdown */
    .scrollbar-thin::-webkit-scrollbar {
      width: 6px;
      height: 6px;
    }

    .scrollbar-thin::-webkit-scrollbar-thumb {
      background-color: var(--primary);
      border-radius: 3px;
    }

    .scrollbar-thin {
      scrollbar-width: thin;
      scrollbar-color: var(--primary) transparent;
    }

    /* Profile dropdown arrow animation */
    #profileDropdownToggle:after {
      content: "";
      display: inline-block;
      margin-left: 6px;
      vertical-align: middle;
      border-top: 5px solid var(--secondary);
      border-right: 4px solid transparent;
      border-left: 4px solid transparent;
      transition: transform 0.2s ease-in-out;
      background-color: #ffa700;
    }

    #profileDropdownToggle[aria-expanded="true"]:after {
      transform: rotate(180deg);
    }

    /* Card hover */
    .card:hover {
      box-shadow: 0 10px 20px rgba(218, 39, 0, 0.4);
      transform: translateY(-4px);
      transition: all 0.3s ease;
      cursor: pointer;
    }

    /* Modal backdrop */
    .modal-bg {
      background-color: rgba(0,0,0,0.6);
      backdrop-filter: blur(3px);
    }

    /* Custom scrollbar for modals */
    .modal-content::-webkit-scrollbar {
      width: 8px;
    }

    .modal-content::-webkit-scrollbar-thumb {
      background-color: var(--primary);
      border-radius: 10px;
    }

    .modal-content::-webkit-scrollbar-track {
      background: #1f2937;
    }

    /* Close button hover effect */
    .close-btn:hover {
      color: var(--primary);
      transform: scale(1.2);
    }

    /* Game card hover effect */
    .game-card:hover {
      box-shadow: 0 8px 25px rgba(218, 39, 0, 0.7);
      transform: translateY(-6px);
    }

    /* Profile Banner */
    .profile-banner {
      background: linear-gradient(135deg, rgba(218, 39, 0, 0.8), rgba(255, 167, 0, 0.8));
      border-radius: 12px;
      border: 1px solid rgba(218, 39, 0, 0.5);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
    }

    /* Improved Tab Styles */
    .tab-btn {
      position: relative;
      transition: all 0.3s;
    }

    .tab-btn[aria-selected="true"] {
      color: var(--secondary) !important;
      border-color: var(--primary) !important;
    }

    .tab-btn:hover:not([aria-selected="true"]) {
      color: var(--secondary) !important;
    }

    .tab-btn:after {
      content: '';
      position: absolute;
      bottom: -2px;
      left: 0;
      width: 0;
      height: 2px;
      background: var(--primary);
      transition: width 0.3s;
    }

    .tab-btn:hover:after {
      width: 100%;
    }

    /* Statistic Cards */
    .stat-card {
      background: linear-gradient(145deg, #1a1a1a, #2a2a2a);
      border: 1px solid rgba(218, 39, 0, 0.2);
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
      transition: all 0.3s;
    }
    
    .stat-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 12px 20px rgba(218, 39, 0, 0.3);
    }

    /* Button Styles */
    .primary-btn {
      background: var(--primary);
      color: white;
      transition: all 0.3s;
      border-radius: 8px;
      font-weight: 600;
      padding: 0.5rem 1rem;
    }

    .primary-btn:hover {
      background: var(--secondary);
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(218, 39, 0, 0.4);
    }

    /* Avatar placeholder */
    .avatar-placeholder {
      width: 100%;
      height: 100%;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: bold;
      position: absolute;
      top: 0;
      left: 0;
      z-index: 1;
    }

    .relative {
      position: relative;
    }

    /* Team Modal Styles */
    .team-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      backdrop-filter: blur(10px);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
    }

    .team-modal.show {
      opacity: 1;
      visibility: visible;
    }

    .team-modal-content {
      background: #1a1a1a;
      border: 2px solid var(--primary);
      border-radius: 20px;
      width: 90%;
      max-width: 800px;
      max-height: 90vh;
      overflow: hidden;
      animation: slideUp 0.3s ease;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
    }

    @keyframes slideUp {
      from {
        opacity: 0;
        transform: translateY(50px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .team-modal-header {
      padding: 25px 30px 20px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      background: #141414;
    }

    .team-modal-title {
      color: var(--secondary);
      font-size: 1.8rem;
      font-weight: 700;
      letter-spacing: 1px;
    }

    .team-modal-close {
      background: none;
      border: none;
      color: #ccc;
      cursor: pointer;
      padding: 8px;
      border-radius: 8px;
      transition: all 0.3s ease;
      font-size: 1.5rem;
    }

    .team-modal-close:hover {
      background: rgba(255, 101, 0, 0.1);
      color: var(--secondary);
      transform: scale(1.1);
    }

    .team-modal-body {
      padding: 30px;
      max-height: 70vh;
      overflow-y: auto;
      background-color: #000000;
    }

    .team-info-grid {
      display: grid;
      grid-template-columns: 1fr 2fr;
      gap: 30px;
      margin-bottom: 30px;
    }

    .team-logo-section {
      text-align: center;
    }

    .team-logo {
      width: 150px;
      height: 150px;
      border-radius: 15px;
      object-fit: cover;
      border: 3px solid var(--primary);
      box-shadow: 0 10px 30px rgba(218, 39, 0, 0.3);
    }

    .team-details h3 {
      color: var(--secondary);
      font-size: 1.3rem;
      margin-bottom: 15px;
      font-weight: 600;
    }

    .team-detail-item {
      display: flex;
      justify-content: space-between;
      padding: 10px 0;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    .team-detail-label {
      color: #ccc;
      font-weight: 500;
    }

    .team-detail-value {
      color: white;
      font-weight: 600;
    }

    .team-members-section {
      margin-top: 30px;
    }

    .team-members-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }

    .team-members-title {
      color: var(--secondary);
      font-size: 1.3rem;
      font-weight: 600;
    }

    .invite-players-btn {
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .invite-players-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(218, 39, 0, 0.4);
    }

    .members-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 15px;
    }

    .member-card {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 15px;
      text-align: center;
      transition: all 0.3s ease;
    }

    .member-card:hover {
      background: rgba(218, 39, 0, 0.1);
      border-color: var(--primary);
      transform: translateY(-3px);
    }

    .member-avatar {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      margin: 0 auto 10px;
      border: 2px solid var(--primary);
    }

    .member-name {
      color: white;
      font-weight: 600;
      margin-bottom: 5px;
    }

    .member-role {
      color: var(--secondary);
      font-size: 0.9rem;
      font-weight: 500;
    }

    .empty-slot {
      border: 2px dashed rgba(255, 255, 255, 0.3);
      background: rgba(255, 255, 255, 0.02);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 120px;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .empty-slot:hover {
      border-color: var(--primary);
      background: rgba(218, 39, 0, 0.05);
    }

    .empty-slot i {
      font-size: 2rem;
      color: #666;
      margin-bottom: 10px;
    }

    .empty-slot span {
      color: #999;
      font-size: 0.9rem;
    }

    /* Player Invitation Modal */
    .player-invite-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.9);
      backdrop-filter: blur(15px);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1001;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
    }

    .player-invite-modal.show {
      opacity: 1;
      visibility: visible;
    }

    .player-invite-content {
      background: #141414;
      border: 2px solid var(--primary);
      border-radius: 20px;
      width: 90%;
      max-width: 600px;
      max-height: 80vh;
      overflow: hidden;
      animation: slideUp 0.3s ease;
    }

    .player-invite-header {
      padding: 25px 30px 20px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      background: linear-gradient(135deg, rgba(218, 39, 0, 0.1), rgba(255, 167, 0, 0.1));
    }

    .player-search-container {
      position: relative;
      margin: 20px 30px;
    }

    .player-search-input {
      width: 100%;
      background: rgba(0, 0, 0, 0.4);
      border: 1px solid var(--primary);
      border-radius: 10px;
      padding: 15px 20px 15px 45px;
      color: white;
      outline: none;
      transition: all 0.3s ease;
      font-size: 1rem;
    }

    .player-search-input:focus {
      border-color: var(--secondary);
      box-shadow: 0 0 20px rgba(255, 167, 0, 0.2);
    }

    .player-search-icon {
      position: absolute;
      left: 15px;
      top: 50%;
      transform: translateY(-50%);
      color: var(--primary);
      font-size: 1rem;
    }

    .players-list {
      max-height: 400px;
      overflow-y: auto;
      padding: 0 30px 30px;
    }

    .player-item {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 15px;
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      gap: 15px;
      transition: all 0.3s ease;
      cursor: pointer;
    }

    .player-item:hover {
      background: rgba(218, 39, 0, 0.1);
      border-color: var(--primary);
      transform: translateX(5px);
    }

    .player-item.invited {
      border-color: var(--secondary);
      background: rgba(255, 167, 0, 0.1);
    }

    .player-item-avatar {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      border: 2px solid var(--primary);
    }

    .player-item-info {
      flex: 1;
    }

    .player-item-name {
      color: white;
      font-weight: 600;
      margin-bottom: 5px;
    }

    .player-item-stats {
      color: #ccc;
      font-size: 0.9rem;
    }

    .player-invite-btn {
      background: var(--primary);
      color: white;
      border: none;
      padding: 8px 16px;
      border-radius: 6px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      font-size: 0.9rem;
    }

    .player-invite-btn:hover {
      background: var(--secondary);
      transform: scale(1.05);
    }

    .player-invite-btn:disabled {
      background: #666;
      cursor: not-allowed;
      transform: none;
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .team-info-grid {
        grid-template-columns: 1fr;
        gap: 20px;
      }

      .members-grid {
        grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
      }

      .team-modal-content,
      .player-invite-content {
        width: 95%;
        margin: 20px;
      }
    }
  </style>



<!-- Create team model style -->
 <style>
.team-form-modal {
    margin-top: -150px;
    background: #1e1e1e;
    color: #fff;
    padding: 25px;
    border-radius: 10px;
    width: 500px;
    max-width: 90%;
    box-shadow: 0 0 15px #ffa700;
    position: fixed;
    margin-left: 290px;
}

.team-form-content h2 {
  margin-top: 0;
  font-size: 22px;
  color: #ffa700;
}

.team-form-content input,
.team-form-content select,
.team-form-content textarea {
  width: 100%;
  padding: 10px;
  margin-top: 5px;
  margin-bottom: 15px;
  background: #2a2a2a;
  border: 1px solid #555;
  border-radius: 6px;
  color: #fff;
}

.joining-type {
  display: flex;
  gap: 10px;
  margin-bottom: 10px;
}

.join-btn {
  flex: 1;
  padding: 10px;
  background: #2a2a2a;
  color: #fff;
  border: 1px solid #777;
  border-radius: 6px;
  cursor: pointer;
}

.join-btn.active {
  background-color: #ffa700;
  color: #000;
  border-color: #ffa700;
}

.switch input[type="checkbox"] {
  margin-right: 10px;
}

.submit-btn,
.cancel-btn {
  padding: 10px 20px;
  margin-top: 10px;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  font-weight: bold;
}

.submit-btn {
  background-color: #ffa700;
  color: #000;
}

.cancel-btn {
  background-color: #444;
  color: #fff;
  margin-left: 10px;
}

.close-form-btn {
  position: absolute;
  right: 10px;
  top: 10px;
  font-size: 20px;
  color: #fff;
  cursor: pointer;
}


.team-card {
  flex: 0 1 calc(33.333% - 20px); /* 3 cards in a row with gap */
  background: #1e1e1e;
  color: white;
  border: 2px solid #ffa700;
  padding: 20px;
  border-radius: 12px;
  box-shadow: 0 0 10px rgba(255, 167, 0, 0.3);
  font-family: 'Segoe UI', sans-serif;
}

.team-card h3 {
  margin-bottom: 10px;
}

.team-card p {
  margin: 4px 0;
  font-size: 14px;
}
.delete-btn {
  margin-top: 10px;
  background-color: #df2a00;
  color: white;
  border: none;
  padding: 8px 14px;
  border-radius: 6px;
  cursor: pointer;
  font-weight: bold;
  transition: 0.2s ease;
}

.delete-btn:hover {
  background-color: #ff0000;
}


/* Pop up meassage */
.invite-popup {
  position: fixed;
  bottom: 20px;
  right: 20px;
  background: #1f1f1f;
  color: #ffa700;
  padding: 12px 20px;
  border-radius: 10px;
  font-weight: bold;
  box-shadow: 0 0 10px rgba(255, 167, 0, 0.4);
  z-index: 9999;
}




</style>


    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
     
        
        .card {
            background: #0f0101;
            backdrop-filter: blur(10px);
            border-radius: 12px;
            overflow: hidden;
            transition: all 0.3s ease;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            width:25vw;
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            border-color: #DA2700;
        }
        
        .card-header {
            background: #141414;
            padding: 1rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .stat-value {
            font-size: 2.5rem;
            font-weight: 700;
            background: linear-gradient(90deg, #FFA700 0%, #DF2A00 100%);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        .social-icon {
            transition: all 0.2s ease;
            fill: #64748b;
        }
        
        .social-icon:hover {
            fill: #60a5fa;
            transform: scale(1.1);
        }
        
        .btn-primary {
            background: linear-gradient(90deg, #FFA700 0%, #DF2A00 100%);
            transition: all 0.2s ease;
        }
        
        .btn-primary:hover {
            background: linear-gradient(90deg, #DF2A00 0%, #DF2A00 100%);
            transform: translateY(-2px);
        }
        
        .comment-avatar {
            border: 2px solid #FFA700;
        }
    </style>

</head>

<body class="text-gray-300 min-h-screen flex flex-col" style="background-color: #000000;">

  <!-- Preloader -->
  <div class="preloader" id="preloader">
    <div class="loader">
      <div class="loader-circle"></div>
      <div class="loader-circle"></div>
      <div class="loader-circle"></div>
      <div class="loader-text">LOADING</div>
    </div>
  </div>

  <!-- Header -->
  <header class="header p-4 flex items-center justify-end sticky top-0 z-30 shadow-lg">       
    <div class="flex items-center space-x-6 relative">
      <!-- Add Tournament Button -->
      <button id="btn-create-tournament" title="Create Tournament" class="p-2 rounded-full hover:bg-[#FFA700] hover:text-gray-900 transition-colors">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 fill-current" viewBox="0 0 24 24"><path d="M12 5v14m7-7H5"/></svg>
      </button>

      <!-- Notifications Bell -->
      <button title="Notifications" class="p-2 rounded-full hover:bg-[#FFA700] hover:text-gray-900 transition-colors">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 stroke-current" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M18 8a6 6 0 00-12 0c0 7-3 9-3 9h18s-3-2-3-9"/></svg>
      </button>

      <!-- Wallet Balance -->
      <div class="flex items-center space-x-1 px-3 py-1 rounded-md border border-yellow-400 text-[#FFA700] font-semibold select-none">
        <span>0</span>
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 stroke-current" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M12 8c-1.104 0-2 .895-2 2s.896 2 2 2 2-.895 2-2-1.077-2-2-2zM6 18v-4a6 6 0 0112 0v4"/></svg>
      </div>

      <!-- Profile Dropdown -->
      <div class="relative" id="profileDropdown" tabindex="0">
        <button id="profileDropdownToggle" aria-expanded="false" aria-haspopup="true" class="flex items-center gap-2 rounded-full focus:outline-yellow-400 focus:ring-2 focus:ring-yellow-400 hover:ring yellow-400 transition-colors">
          <img id="profileIcon" src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/b8fc95b2-db78-439d-b2e7-db04a184e21b.png" alt="User profile avatar with black suit, friendly smile, dark hair" class="w-10 h-10 rounded-full object-cover border-2 border-yellow-400" data-user-avatar />
          <span  styleclass="hidden md:inline-block text-[#FFA700] font-semibold" id="profileEmail">Loading...</span>
        </button>

        <div id="profileMenu" class="origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-gray-800 ring-1 ring-black ring-opacity-5 invisible opacity-0 transition-opacity scrollable max-h-72 overflow-y-auto scrollbar-thin z-50" role="menu" aria-orientation="vertical" aria-labelledby="profileDropdownToggle" tabindex="-1">
          <a href="#generalTab" class="block px-4 py-2 text-sm hover:bg-[#FFA700] hover:text-gray-900 cursor-pointer" role="menuitem" tabindex="-1" id="menu-general">My Profile</a>
          <a href="#teamsTab" class="block px-4 py-2 text-sm hover:bg-[#FFA700] hover:text-gray-900 cursor-pointer" role="menuitem" tabindex="-1" id="menu-teams">My Team</a>
         <a href="update.html" class="block px-4 py-2 text-sm hover:bg-[#FFA700] hover:text-gray-900 cursor-pointer" role="menuitem" tabindex="-1" id="menu-wallet">Settings</a>
          <a href="payment.html" class="block px-4 py-2 text-sm hover:bg-[#FFA700] hover:text-gray-900 cursor-pointer" role="menuitem" tabindex="-1" id="menu-wallet">Wallet</a>
          <button id="btn-logout" class="w-full text-left px-4 py-2 text-sm text-red-500 hover:bg-red-500 hover:text-white cursor-pointer" role="menuitem" tabindex="-1">Log Out</button>
        </div>
      </div>
    </div>
  </header>

  <main class="flex-grow max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-8 text-gray-100">
    <!-- Profile Banner with upload -->
    <section class="profile-banner relative rounded-lg p-6 flex flex-col md:flex-row items-center md:items-start gap-6 shadow-lg">
      <div class="relative w-32 h-32 border-4 border-white rounded-full overflow-hidden flex-shrink-0 shadow-lg">
        <img id="bannerAvatar" src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/ebd26401-474d-4ba9-81ca-2806faf6d550.png" alt="Profile avatar silhouette with sunset gradient background, white border" class="w-full h-full object-cover" data-user-avatar onerror="this.src='https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/8204ca7b-e98f-4871-ba18-a8002bffc8b3.png'"/>
      </div>

      <div class="flex-shrink max-w-xl space-y-2">
        <h2 id="profileEmailBanner" class="text-xl font-bold text-white">Loading...</h2>
        <p class="text-white-800" id="profileNickname">In Game Name: Loading...</p>
        <p class="text-white-800" id="profileCountry">Country: Loading...</p>
        <p class="text-white-800" id="profileJoinDate">Date of joining: Loading...</p>
        <p class="text-white-800" id="profileBio">Description: Loading...</p>
        <a href="update.html">
          <button id="btnUpdateProfile" class="primary-btn bg-[#FFA700] hover:bg-[#DF2A00] text-gray-900 py-1 px-4 rounded text-sm font-semibold transition mt-20 " style="background-color: #ffa700;">
            Update Profile
          </button>
        </a>
      </div>
    </section>

    <!-- Tabs -->
    <nav class="flex justify-center text-sm font-semibold text-gray-400 border-b border-gray-700">
      <button data-tab="general" aria-selected="true" class="tab-btn px-5 py-3 hover:text-[#FFA700] focus:outline-none focus:text-[#FFA700] border-b-2 border-yellow-400">General</button>
      <button data-tab="teams" aria-selected="false" class="tab-btn px-5 py-3 hover:text-[#FFA700] focus:outline-none focus:text-[#FFA700]">My Teams</button>
    </nav>

    <!-- Content Panels -->
    <section id="generalTab" class="tab-panel py-6">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-12">
     
         <!-- Card 1: Total Players -->
                <div class="card">
                <div class="card-header">
                    <h2 class="text-xl font-semibold text-white">Total Players</h2>
                </div>
                <div class="p-6 flex flex-col items-center">
                    <div class="stat-value" id="total-players">Loading...</div>
                    <p class="text-sm text-gray-400 mt-2">Active worldwide</p>
                    <div class="mt-4 w-full bg-gray-700 rounded-full h-2.5">
                        <div class="bg-blue-500 h-2.5 rounded-full" id="growth-bar" style="width: 0%"></div>
                    </div>
                    <p class="text-xs text-gray-400 mt-2">+14% from last month</p>
                </div>
            </div>
            
            <!-- Card 2: Win & Losses -->
            <div class="card">
                <div class="card-header">
                    <h2 class="text-xl font-semibold text-white">Win/Loss Ratio</h2>
                </div>
                <div class="p-6">
                    <div class="flex justify-between mb-4">
                        <div class="text-center">
                            <div class="stat-value" id="win-rate">0%</div>
                            <p class="text-sm text-gray-400">Win Rate</p>
                        </div>
                        <div class="text-center">
                            <div class="stat-value" id="loss-rate">0%</div>
                            <p class="text-sm text-gray-400">Loss Rate</p>
                        </div>
                    </div>
                    <div class="relative w-full h-6 bg-gray-700 rounded-full">
                        <div class="absolute top-0 left-0 h-6 bg-blue-500 rounded-l-full" style="width: 64%"></div>
                        <div class="absolute top-0 right-0 h-6 bg-red-500 rounded-r-full" style="width: 36%"></div>
                    </div>
                </div>
            </div>
            
            </div>
                <!-- Card 3: Commends -->
            <div class="card mt-[50px] h-[27vh] w-[53vw]">

                    <div class="card-header">
                     <h2 class="text-xl font-semibold text-white mt-5">Player Commends</h2>

                        <div class="flex justify-between text-sm mt-1">
                            <span class="text-blue-300">Total Commends: <span class="text-white font-medium">216</span></span>
                            <span class="text-black-400">Positive: <span class="text-black font-medium">89%</span></span>
                        </div>
                    </div>
                    <div class="p-4 space-y-4" id="commends-container">
                        <!-- Commends will be loaded dynamically -->
                        <div class="flex items-center space-x-2 text-sm text-gray-400">
                            <span>Commend Types:</span>
                            <span class="px-2 py-1 bg-blue-900/50 rounded text-blue-300">Leadership</span>
                            <span class="px-2 py-1 bg-green-900/50 rounded text-green-300">Teamwork</span>
                            <span class="px-2 py-1 bg-yellow-900/50 rounded text-yellow-300">Teaching</span>
                        </div>
                    </div>
                </div>
            </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
         <div class="card mt-[50px] h-[35vh] w-[25vw]">
                <div class="card-header">
                    <h2 class="text-xl font-semibold text-white">Connect With Us</h2>
                </div>
                <div class="p-6 flex flex-col items-center"  style=" margin-top: 20px;">
                    <div class="flex space-x-6 mb-6">
                        <a href="#" class="social-link">
                            <svg class="social-icon w-6 h-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                                <path d="M22.675 0h-21.35c-.732 0-1.325.593-1.325 1.325v21.351c0 .731.593 1.324 1.325 1.324h11.495v-9.294h-3.128v-3.622h3.128v-2.671c0-3.1 1.893-4.788 4.659-4.788 1.325 0 2.463.099 2.795.143v3.24l-1.918.001c-1.504 0-1.795.715-1.795 1.763v2.313h3.587l-.467 3.622h-3.12v9.293h6.116c.73 0 1.323-.593 1.323-1.325v-21.35c0-.732-.593-1.325-1.325-1.325z"/>
                            </svg>
                        </a>
                        <a href="#" class="social-link">
                            <svg class="social-icon w-6 h-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                                <path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/>
                            </svg>
                        </a>
                        <a href="#" class="social-link">
                            <svg class="social-icon w-6 h-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                                <path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm-2 16h-2v-6h2v6zm-1-6.891c-.607 0-1.1-.496-1.1-1.109 0-.612.492-1.109 1.1-1.109s1.1.497 1.1 1.109c0 .613-.493 1.109-1.1 1.109zm8 6.891h-1.998v-2.861c0-1.881-2.002-1.722-2.002 0v2.861h-2v-6h2v1.093c.872-1.616 4-1.736 4 1.548v3.359z"/>
                            </svg>
                        </a>
                        <a href="#" class="social-link">
                            <svg class="social-icon w-6 h-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                                <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                            </svg>
                        </a>
                    </div>
                    <p class="text-sm text-gray-400 text-center">Join our community for latest updates</p>
                    
                </div>
                           <button id="openSocialModalBtn" 
  class="bg-[#FFA700] hover:bg-[#DF2A00] text-gray-900 py-1 px-4 rounded text-sm font-semibold transition" 
  style="margin-left: 8rem ; margin-top: 60px;">
  Add Social Media
</button>

            </div>
            
            
            <!-- Card 5: Create Account -->
            <div class="card mt-[50px] h-[35vh] w-[25vw]">
                <div class="card-header">
                    <h2 class="text-xl font-semibold text-white">Ready to Play?</h2>
                </div>
                <div class="p-6 flex flex-col items-center">
                    <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/6a8574ec-e02b-4f9a-b595-13e4eefbef26.png" alt="CS2 logo with blue and orange gradient background" class="w-24 h-24 mb-4 rounded-lg">
                    <p class="text-center text-gray-300 mb-6">Join millions of players worldwide in the ultimate competitive shooter experience</p>
                   <button id="openGamesModalBtn" class="primary-btn bg-[#FFA700] hover:bg-[#DF2A00] text-gray-900 py-1 px-4 rounded text-sm font-semibold transition mt-2">
              Create Account
            </button>
                   
                </div>
            </div>
      </div>
    </section>

    <section id="teamsTab" class="tab-panel hidden py-6">
      <div class="flex justify-between items-center mb-4">
        <h3 class="text-lg font-bold text-[#FFA700]">My Teams</h3>
        <div>
          <select id="filterTeams" class="bg-gray-700 text-[#141414] px-3 py-1 rounded focus:outline-none focus:ring-2 focus:ring-yellow-400 hover:bg-white">
            <option value="all" selected>All Games</option>
            <!-- <option value="bgmi">BGMI</option> -->
            <option value="cs2">CS-2</option>
            <!-- <option value="valorant">Valorant</option> -->
          </select>
        </div>
      </div>

     <div class="mb-6">
        <button id="btnCreateTeam" class="primary-btn bg-[#FFA700] hover:bg-[#DA2700] text-gray-900 py-2 px-4 rounded font-semibold transition">Create My Team</button>
      </div>


       <!-- Create Team Form Modal -->
<!-- Team Creation Form -->
<!-- <div id="createTeamForm" class="team-form-modal style= display: none;">
  <div class="team-form-content">
    <span class="close-form-btn" id="closeForm">&times;</span>
    <h2>createTeam</h2>
    <form id="teamForm">
      <label>Team name</label>
      <input type="text" name="teamName" required />

      <label>Platform</label>
      <select name="platform" required>
        <option>PC</option>
        <option>Console</option>
        <option>Mobile</option>
      </select>

      <label>About</label>
      <textarea name="about" maxlength="256" placeholder="We are [team name] and we play on the Lidoma platform."></textarea>
      <small><span id="charCount">0</span> / 256</small>

      <label>Joining Type</label>
      <div class="joining-type">
        <button type="button" class="join-btn active" data-type="Public">Public</button>
        <button type="button" class="join-btn" data-type="Private">Private</button>
      </div>
      <small id="joinTypeInfo">Anybody can apply to join the team</small>

      <div class="switch">
        <label>
          <input type="checkbox" name="tournament" />
          Allow team members to register this team to a tournament
        </label>
      </div>

      <button type="submit" class="submit-btn">Create team</button>
      <button type="button" class="cancel-btn" id="cancelForm">Cancel</button>
    </form>
  </div>
</div> -->

     <div id="teamCards" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-[390px]"></div>

    </section>

    <!-- Wallet Section -->
    <section id="walletSection" class="hidden max-w-3xl mx-auto p-6 rounded-lg bg-gray-800 text-[#FFA700] text-center">
      <h3 class="text-xl font-bold mb-4">Wallet</h3>
      <p>This is the wallet section. API integration required to display wallet balance and transactions.</p>
    </section>
  </main>

  <!-- Team Details Modal -->
  <div id="teamModal" class="team-modal">
    <div class="team-modal-content">
      <div class="team-modal-header">
        <h2 class="team-modal-title" id="teamModalTitle">Team Details</h2>
        <button class="team-modal-close" id="teamModalClose">&times;</button>
      </div>
      <div class="team-modal-body">
        <div class="team-info-grid">
          <div class="team-logo-section">
            <img id="teamModalLogo" src="/placeholder.svg" alt="Team Logo" class="team-logo">
          </div>
          <div class="team-details">
            <h3>Team Information</h3>
            <div class="team-detail-item">
              <span class="team-detail-label">Game:</span>
              <span class="team-detail-value" id="teamModalGame">-</span>
            </div>
            <div class="team-detail-item">
              <span class="team-detail-label">Created:</span>
              <span class="team-detail-value" id="teamModalCreated">-</span>
            </div>
            <div class="team-detail-item">
              <span class="team-detail-label">Members:</span>
              <span class="team-detail-value" id="teamModalMemberCount">-</span>
            </div>
            <div class="team-detail-item">
              <span class="team-detail-label">Status:</span>
              <span class="team-detail-value" id="teamModalStatus">Active</span>
            </div>
          </div>
        </div>
       <!-- üß± Flex container added to arrange both cards side-by-side -->
              <h3 class="text-lg font-bold mb-4 text-[#FFA700]">Statistics</h3>
<div style ="display: ruby-text;" class="flex flex-wrap gap-4">

  <div class="stat-card bg-[#141414] rounded-lg p-6 text-center h-50 w-1/2">
    <div class="text-[#FFA700] text-5xl mb-2">üèÜ</div>
    <div class="uppercase text-base font-semibold text-gray-400 mb-1">Total Matches</div>
    <div id="statPlayedTournaments" class="text-4xl font-bold">0</div>
  </div>

  <div class="stat-card bg-[#141414] rounded-lg p-6 text-center h-50 w-1/2">
    <div class="text-[#FFA700] text-5xl mb-2">üéÆ</div>
    <div class="uppercase text-base font-semibold text-gray-400 mb-1">Win & Losses</div>
    <div id="statPlayedMatches" class="text-4xl font-bold">0</div>
  </div>

</div>


        <div class="team-members-section">
          <div class="team-members-header">
            <h3 class="team-members-title">Team Members</h3>
            <button class="invite-players-btn" id="invitePlayersBtn">
              <i class="fas fa-user-plus"></i>
              Invite Players
            </button>
          </div>
          <div class="members-grid" id="teamMembersGrid">
            <!-- Team members will be populated here -->
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Player Invitation Modal -->
  <div id="playerInviteModal" class="player-invite-modal">
    <div class="player-invite-content">
      <div class="player-invite-header">
        <h2 class="team-modal-title">Invite Players to Team</h2>
        <button class="team-modal-close" id="playerInviteModalClose">&times;</button>
      </div>
      
      <div class="player-search-container">
        <input type="text" class="player-search-input" id="playerSearchInput" placeholder="Search players by name or username...">
        <i class="fas fa-search player-search-icon"></i>
      </div>

      <div class="players-list" id="playersList">
        <!-- Available players will be populated here -->
      </div>
    </div>
  </div>

  <!-- Modal Background -->
  <div id="modalBg" class="modal-bg fixed inset-0 hidden items-center justify-center z-50" aria-hidden="true" role="dialog" aria-modal="true">
    <div id="modalContent" class="bg-[#000000] rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto p-6 relative border border-[#DA2700]">
      <button id="modalCloseBtn" class="absolute top-2 right-4 text-[#FFA700] hover:text-yellow-600 text-2xl font-bold close-btn" aria-label="Close">&times;</button>
      <div id="modalBody" class="space-y-6"></div>
    </div>
  </div>

  <!-- Modal for the add account game  -->
  <div id="gamesModal" class="fixed inset-0 bg-black bg-opacity-75 backdrop-filter backdrop-blur-sm flex items-center justify-center z-50 hidden">
    <div class="bg-gray-800 rounded-lg max-w-5xl w-full max-h-[90vh] flex flex-col shadow-lg border border-yellow-400">
 <header class="flex justify-between items-center p-4 border-b border-gray-700 bg-[#141414]">
        <h2 class="text-xl font-bold text-[#DA2700]">Select a Game</h2>
        <button id="closeGamesModal" aria-label="Close Games Modal" class="text-gray-400 hover:text-[#FFA700] transition close-btn">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
        </button>
      </header>

<main class="modal-content overflow-y-auto p-6 flex flex-col space-y-6 flex-grow text-gray-300 w-auto bg-[#000000]">

        <!-- Game Cards Container -->
        <section>
      <h3 class="text-lg font-semibold mb-3 text-[#DA2700]">Available Games</h3>
          <div id="gameCards" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">
            <!-- Cards are generated here by JS -->
          </div>
        </section>

        <hr class="border-gray-700" />

        <!-- Created Accounts Section -->
        <section>
          <div class="flex justify-between items-center mb-3">
            <h3 class="text-lg font-semibold text-text-[#DA2700]">Your Created Accounts</h3>
            <button id="clearAllAccounts" class="text-sm text-[#DF2A00] hover:text-[#FFA700] transition disabled:opacity-1200"
            title="Delete all saved accounts" disabled>
              Clear All
            </button>
          </div>
          <div id="createdAccounts" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 min-h-[120px] text-gray-400">
            <!-- Created accounts cards go here -->
            <p id="noAccountsMessage" class="text-center text-gray-500">No accounts added yet.</p>
          </div>
        </section>
      </main>
    </div>
  </div>

  <!-- Second Modal: Add Account Modal -->
 <div id="addAccountModal" class="fixed inset-0 bg-black bg-opacity-75 backdrop-filter backdrop-blur-sm flex items-center justify-center z-60 hidden">
   <div class="bg-[#0000000] rounded-lg max-w-md w-full shadow-lg overflow-hidden border border-yellow-400">

      <header class="relative p-4 border-b border-gray-700 flex items-center justify-center">
        <img id="gameLogo" src="" alt="" class="h-12 object-contain" />
        <button id="closeAddAccountModal" aria-label="Close Add Account Modal" 
          class="absolute right-4 top-4 text-gray-400 hover:text-[#FFA700] transition close-btn">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
        </button>
      </header>

      <form id="accountForm" class="px-6 py-6 flex flex-col space-y-5">
        <h2 class="text-2xl font-bold text-[#FFA700] mb-4">Add Game Account</h2>
        
        <label class="flex flex-col text-gray-300 text-sm">
          Select platform
          <select id="platform" required class="mt-1 p-2 rounded bg-[#141414] border border-gray-600 text-white focus:outline-none focus:ring-2 focus:ring-yellow-400">
            <option value="" disabled selected>Select platform</option>
            <option value="PC">PC</option>
            <option value="Xbox">Xbox</option>
            <option value="PlayStation">PlayStation</option>
            <option value="Mobile">Mobile</option>
          </select>
        </label>

        <label class="flex flex-col text-gray-300 text-sm">
          In-game name
          <input type="text" id="inGameName" placeholder="In-game name" required
            class="mt-1 p-2 rounded bg-[#000000] border border-gray-600 text-white focus:outline-none focus:ring-2 focus:ring-yellow-400"
          />
        </label>

        <label class="flex flex-col text-gray-300 text-sm">
          Steam ID
          <input type="text" id="steamId" placeholder="Steam ID"
            class="mt-1 p-2 rounded bg-[#000000] border border-gray-600 text-white focus:outline-none focus:ring-2 focus:ring-yellow-400"
          />
        </label>

        <button type="submit" id="connectAccountBtn" disabled
          class="primary-btn bg-[#DF2A00] disabled:bg-[#DA2700] text-gray-900 font-semibold py-2 rounded transition hover:bg-[#DF2A00] disabled:text-gray-300"
        >
          Connect account
        </button>
      </form>
    </div>
  </div>


  <!-- Social Links Model -->
   <!-- Modal Overlay -->
<div id="socialModal" class="fixed inset-0 bg-black bg-opacity-60 hidden justify-center items-center z-50">
  <div class="bg-[#000000] rounded-xl p-6 w-full max-w-md relative shadow-2xl border border-[#FFA700]">
    <h2 class="text-2xl font-bold text-[#ffa700] mb-4 text-center">Add Your Social Links</h2>

    <!-- Social Input Fields -->
    <div class="space-y-4 text-sm ">
      <div>
        <label class="text-gray-300 font-medium">üéÆ Discord</label>
        <input type="url" placeholder="https://discord.gg/yourchannel" class="w-full mt-1 px-4 py-2 bg-[#141414]  border border-gray-700 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-500">
      </div>
      <div>
        <label class="text-gray-300 font-medium">üìò Facebook</label>
        <input type="url" placeholder="https://facebook.com/yourprofile" class="w-full mt-1 px-4 py-2 bg-[#141414]  border border-gray-700 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-500">
      </div>
      <div>
        <label class="text-gray-300 font-medium">üê¶ Twitter</label>
        <input type="url" placeholder="https://twitter.com/yourhandle" class="w-full mt-1 px-4 py-2 bg-[#141414]  border border-gray-700 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-500">
      </div>
      <div>
        <label class="text-gray-300 font-medium">üì∏ Instagram</label>
        <input type="url" placeholder="https://instagram.com/yourprofile" class="w-full mt-1 px-4 py-2 bg-[#141414]  border border-gray-700 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-500">
      </div>
      <div>
        <label class="text-gray-300 font-medium">üéÆ Twitch</label>
        <input type="url" placeholder="https://twitch.tv/yourchannel" class="w-full mt-1 px-4 py-2 bg-[#141414]  border border-gray-700 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-500">
      </div>
      <div>
        <label class="text-gray-300 font-medium">‚ñ∂Ô∏è YouTube</label>
        <input type="url" placeholder="https://youtube.com/yourchannel" class="w-full mt-1 px-4 py-2 bg-[#141414]  border border-gray-700 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-500">
      </div>
    </div>

    <!-- Buttons -->
    <div class="flex justify-end mt-6 gap-4">
      <button id="closeSocialModalBtn" class="bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-md transition">Cancel</button>
      <button class="bg-yellow-500 hover:bg-yellow-600 text-gray-900 font-semibold px-4 py-2 rounded-md transition">Save</button>
    </div>

    <!-- Close Icon -->
    <button id="closeSocialModalX" class="absolute top-3 right-4 text-gray-400 hover:text-[#FFA700] text-xl">&times;</button>
  </div>
</div>



  <script >
    // Profile page specific JavaScript

// User Management System
class UserManager {
  constructor() {
    this.users = JSON.parse(localStorage.getItem("registeredUsers")) || []
    this.currentUser = JSON.parse(localStorage.getItem("currentUser")) || null
  }

  getCurrentUser() {
    return this.currentUser
  }

  updateUserProfile(userData) {
    if (this.currentUser) {
      const userIndex = this.users.findIndex((u) => u.id === this.currentUser.id)
      if (userIndex !== -1) {
        this.users[userIndex] = { ...this.users[userIndex], ...userData }
        localStorage.setItem("registeredUsers", JSON.stringify(this.users))

        const { password, ...userWithoutPassword } = this.users[userIndex]
        this.currentUser = userWithoutPassword
        localStorage.setItem("currentUser", JSON.stringify(this.currentUser))

        localStorage.setItem(
          "userData",
          JSON.stringify({
            name: this.currentUser.name,
            email: this.currentUser.email,
            isLoggedIn: true,
            avatar: this.currentUser.avatar,
            nickname: this.currentUser.nickname,
            country: this.currentUser.country,
            bio: this.currentUser.bio,
            joinDate: this.currentUser.createdAt,
          }),
        )

        return { success: true, message: "Profile updated successfully!" }
      }
    }
    return { success: false, message: "User not found!" }
  }
}

// Initialize User Manager
const userManager = new UserManager()

// Declare showNotification function
function showNotification(message) {
  const notification = document.createElement("div")
  notification.className = "notification"
  notification.innerHTML = `<i class="fas fa-check-circle"></i> ${message}`
  notification.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        background: #4CAF50;
        color: white;
        padding: 15px 25px;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        z-index: 9999999;
        animation: slideIn 0.3s ease;
    `

  document.body.appendChild(notification)

  setTimeout(() => {
    notification.style.animation = "slideOut 0.3s ease"
    setTimeout(() => notification.remove(), 300)
  }, 3000)
}

function goToEditProfile() {
  window.location.href = "update2.html"
}

// Avatar placeholder function
function createAvatarPlaceholder(name) {
  const initials = name
    .split(" ")
    .map((n) => n[0])
    .join("")
    .toUpperCase()
    .slice(0, 2)
  const colors = ["#DA2700", "#FFA700", "#4CAF50", "#2196F3", "#9C27B0"]
  const colorIndex = name.charCodeAt(0) % colors.length
  const bgColor = colors[colorIndex]

  return `
        <div class="avatar-placeholder" style="
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background-color: ${bgColor};
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 40px;
            position: absolute;
            top: 0;
            left: 0;
        ">${initials}</div>
    `
}

// Global variables
let currentUser = null
let teamsData = []
const availablePlayers = []

// Sample teams data
const sampleTeams = [
  {
    id: 1,
    name: "Shadow Warriors",
    game: "BGMI",
    description: "A team of elite BGMI players with a focus on strategy and precision.",
    image:
      "https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/c5c6cf7b-5b14-4862-8787-b414dd0e4c35.png",
    created: "2024-01-15",
    members: [
      { id: 1, name: "John Doe", role: "Captain", avatar: "https://i.pravatar.cc/150?img=1" },
      { id: 2, name: "Jane Smith", role: "Sniper", avatar: "https://i.pravatar.cc/150?img=2" },
      { id: 3, name: "Mike Johnson", role: "Support", avatar: "https://i.pravatar.cc/150?img=3" },
    ],
  },
  {
    id: 2,
    name: "Cyber Legends",
    game: "cs2",
    description: "Fierce CS-2 squad aiming for the top in all tournaments.",
    image: "https://cdn.shopify.com/s/files/1/0636/5226/6115/files/wp12817914-cs2-wallpapers.png?v=1750919735",
    created: "2024-02-20",
    members: [
      { id: 4, name: "Alex Pro", role: "IGL", avatar: "https://i.pravatar.cc/150?img=4" },
      { id: 5, name: "Sarah Elite", role: "AWPer", avatar: "https://i.pravatar.cc/150?img=5" },
    ],
  },
]

// Sample available players
const samplePlayers = [
  {
    id: 101,
    name: "Gaming Pro",
    username: "@gamingpro",
    avatar: "https://i.pravatar.cc/150?img=10",
    stats: "K/D: 2.5 | Rank: Global Elite",
  },
  {
    id: 102,
    name: "Sniper King",
    username: "@sniperking",
    avatar: "https://i.pravatar.cc/150?img=11",
    stats: "K/D: 3.2 | Rank: Supreme",
  },
  {
    id: 103,
    name: "Rush Master",
    username: "@rushmaster",
    avatar: "https://i.pravatar.cc/150?img=12",
    stats: "K/D: 1.8 | Rank: Legendary Eagle",
  },
  {
    id: 104,
    name: "Tactical Genius",
    username: "@tactical",
    avatar: "https://i.pravatar.cc/150?img=13",
    stats: "K/D: 2.1 | Rank: Distinguished Master",
  },
  {
    id: 105,
    name: "Clutch God",
    username: "@clutchgod",
    avatar: "https://i.pravatar.cc/150?img=14",
    stats: "K/D: 2.8 | Rank: Global Elite",
  },
  {
    id: 106,
    name: "Spray Control",
    username: "@spraycontrol",
    avatar: "https://i.pravatar.cc/150?img=15",
    stats: "K/D: 2.0 | Rank: Supreme",
  },
]

// DOM Elements
const profileDropdownToggle = document.getElementById("profileDropdownToggle")
const profileMenu = document.getElementById("profileMenu")
const profileEmailElem = document.getElementById("profileEmail")
const profileEmailBanner = document.getElementById("profileEmailBanner")
const profileIcon = document.getElementById("profileIcon")
const bannerAvatar = document.getElementById("bannerAvatar")
const generalTab = document.getElementById("generalTab")
const teamsTab = document.getElementById("teamsTab")
const tabButtons = document.querySelectorAll(".tab-btn")
const teamCardsContainer = document.getElementById("teamCards")
const filterTeams = document.getElementById("filterTeams")
const btnCreateTeam = document.getElementById("btnCreateTeam")
const btnLogout = document.getElementById("btn-logout")

// Team Modal Elements
const teamModal = document.getElementById("teamModal")
const teamModalClose = document.getElementById("teamModalClose")
const teamModalTitle = document.getElementById("teamModalTitle")
const teamModalLogo = document.getElementById("teamModalLogo")
const teamModalGame = document.getElementById("teamModalGame")
const teamModalCreated = document.getElementById("teamModalCreated")
const teamModalMemberCount = document.getElementById("teamModalMemberCount")
const teamModalStatus = document.getElementById("teamModalStatus")
const teamMembersGrid = document.getElementById("teamMembersGrid")
const invitePlayersBtn = document.getElementById("invitePlayersBtn")

// Player Invite Modal Elements
const playerInviteModal = document.getElementById("playerInviteModal")
const playerInviteModalClose = document.getElementById("playerInviteModalClose")
const playerSearchInput = document.getElementById("playerSearchInput")
const playersList = document.getElementById("playersList")

let currentTeamId = null
const invitedPlayers = new Set()

// Update all avatar images with the same source
function updateAllAvatarImages(newImageSrc) {
  // Remove any placeholders first
  document.querySelectorAll(".avatar-placeholder").forEach((p) => p.remove())

  // Update all elements with data-user-avatar attribute
  document.querySelectorAll("[data-user-avatar]").forEach((img) => {
    img.src = newImageSrc
    img.style.opacity = "1"
    img.style.display = "block"
  })

  // Update specific avatar elements
  if (profileIcon) {
    profileIcon.src = newImageSrc
    profileIcon.style.display = "block"
  }
  if (bannerAvatar) {
    bannerAvatar.src = newImageSrc
    bannerAvatar.style.opacity = "1"
  }

  // Update user data in memory
  if (currentUser) {
    currentUser.avatar = newImageSrc
  }

  // Update in UserManager
  userManager.updateUserProfile({ avatar: newImageSrc })
}

// Load user profile
function loadUserProfile() {
  // Check for profile view data first
  const profileViewData = localStorage.getItem("profileViewData")
  const currentUserData = userManager.getCurrentUser()

  const userData = profileViewData ? JSON.parse(profileViewData) : currentUserData

  if (!userData) {
    console.log("No user logged in")
    alert("Please log in to view your profile")
    return
  }

  currentUser = {
    id: userData.id,
    email: userData.email,
    name: userData.name,
    avatar: userData.avatar,
    nickname: userData.nickname || "",
    country: userData.country || "",
    bio: userData.bio || "",
    joinDate: userData.createdAt,
    status: userData.status || "online",
    statistics: {
      playedTournaments: userData.playedTournaments || 0,
      playedMatches: userData.playedMatches || 0,
      wonMatches: userData.wonMatches || 0,
      trophies: userData.trophies || { bronze: 0, silver: 0, gold: 0 },
    },
  }

  updateProfileDisplay()
}

function updateProfileDisplay() {
  if (!currentUser) return

  // Update email displays
  profileEmailElem.textContent = currentUser.email
  profileEmailBanner.textContent = currentUser.name || currentUser.email

  // Update profile banner information
  document.getElementById("profileNickname").textContent = `In Game Name: ${currentUser.nickname || "Not set"}`
  document.getElementById("profileCountry").textContent = `Country: ${currentUser.country || "Not set"}`
  document.getElementById("profileJoinDate").textContent =
    `Date of joining: ${currentUser.joinDate ? new Date(currentUser.joinDate).toLocaleDateString() : "Unknown"}`
  document.getElementById("profileBio").textContent = `Description: ${currentUser.bio || "No description added"}`

  // Handle avatar display
  if (currentUser.avatar) {
    updateAllAvatarImages(currentUser.avatar)
  } else {
    handleNoAvatar()
  }

  // Update statistics
  document.getElementById("statPlayedTournaments").textContent = currentUser.statistics.playedTournaments
  document.getElementById("statPlayedMatches").textContent = currentUser.statistics.playedMatches
  document.getElementById("statWonMatches").textContent = currentUser.statistics.wonMatches
}

function handleNoAvatar() {
  const placeholder = createAvatarPlaceholder(currentUser.name || currentUser.email)

  // Handle all avatar elements
  const avatarElements = [
    { element: bannerAvatar, container: bannerAvatar?.parentElement },
    { element: profileIcon, container: profileIcon?.parentElement },
  ]

  avatarElements.forEach(({ element, container }) => {
    if (element && container && !container.querySelector(".avatar-placeholder")) {
      element.style.opacity = "0"
      container.insertAdjacentHTML("afterbegin", placeholder)
    }
  })
}

// Toggle profile dropdown menu
function toggleProfileMenu() {
  const expanded = profileDropdownToggle.getAttribute("aria-expanded") === "true"
  profileDropdownToggle.setAttribute("aria-expanded", !expanded)
  if (!expanded) {
    profileMenu.classList.remove("invisible", "opacity-0")
    profileMenu.classList.add("visible", "opacity-100")
  } else {
    profileMenu.classList.add("invisible", "opacity-0")
    profileMenu.classList.remove("visible", "opacity-100")
  }
}

// Hide profile menu
function hideProfileMenu() {
  profileDropdownToggle.setAttribute("aria-expanded", false)
  profileMenu.classList.add("invisible", "opacity-0")
  profileMenu.classList.remove("visible", "opacity-100")
}

// Switch tab content panels
function switchTab(tabName) {
  // Set aria-selected and styling for tabs
  tabButtons.forEach((btn) => {
    const selected = btn.dataset.tab === tabName
    btn.setAttribute("aria-selected", selected)
    if (selected) {
      btn.classList.add("border-b-2", "border-yellow-400", "text-[#FFA700]")
    } else {
      btn.classList.remove("border-b-2", "border-yellow-400", "text-[#FFA700]")
    }
  })

  // Show/hide content sections
  generalTab.classList.toggle("hidden", tabName !== "general")
  teamsTab.classList.toggle("hidden", tabName !== "teams")

  // Hide wallet section if visible
  document.getElementById("walletSection").classList.add("hidden")
}

// Show wallet section, hide others
function showWalletSection() {
  generalTab.classList.add("hidden")
  teamsTab.classList.add("hidden")
  document.getElementById("walletSection").classList.remove("hidden")
}

// Create team cards from data and filter
function renderTeams(filterGame = "all") {
  teamCardsContainer.innerHTML = ""
  let filtered = teamsData
  if (filterGame !== "all") {
    filtered = teamsData.filter((t) => t.game.toLowerCase() === filterGame.toLowerCase())
  }

  if (filtered.length === 0) {
    teamCardsContainer.innerHTML =
      "<p class='col-span-full text-center text-gray-500'>No teams found for this filter.</p>"
    return
  }

  filtered.forEach((team) => {
    const card = createTeamCard(team)
    teamCardsContainer.appendChild(card)
  })
}

// Create team card element
function createTeamCard(team) {
  const card = document.createElement("div")
  card.className =
  "card rounded-lg p-4 shadow-md flex flex-col border border-gray-700 hover:border-yellow-400 transition-all duration-300";
card.style.backgroundColor = "#141414";
card.style.marginleft="90px";

  card.tabIndex = 0
  card.setAttribute("role", "article")
  card.innerHTML = `
        <img src="${team.image}" alt="Team banner for ${team.name}" class="rounded-md w-full h-40 object-cover mb-3" onerror="this.src='https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/e6e8d664-e8df-4d08-b3e4-8184c53a0d5f.png'"/>
        <h4 class="text-[#FFA700] font-semibold mb-1">${team.name}</h4>
        <p class="text-gray-300 text-sm flex-grow">${team.description}</p>
        <div class="mt-3 flex justify-between items-center">
            <span class="text-xs text-gray-400">${team.game.toUpperCase()}</span>
            <span class="text-xs text-gray-400">${team.members.length} members</span>
        </div>
    `

  card.onclick = () => openTeamModal(team)
  return card
}

// Open team details modal
function openTeamModal(team) {
  currentTeamId = team.id

  // Populate team information
  teamModalTitle.textContent = team.name
  teamModalLogo.src = team.image
  teamModalLogo.alt = `${team.name} logo`
  teamModalGame.textContent = team.game.toUpperCase()
  teamModalCreated.textContent = new Date(team.created).toLocaleDateString()
  teamModalMemberCount.textContent = `${team.members.length}/5`
  teamModalStatus.textContent = "Active"

  // Populate team members
  renderTeamMembers(team.members)

  // Show modal
  teamModal.classList.add("show")
  document.body.style.overflow = "hidden"
}

// Render team members in the modal
function renderTeamMembers(members) {
  teamMembersGrid.innerHTML = ""

  // Add existing members
  members.forEach((member) => {
    const memberCard = document.createElement("div")
    memberCard.className = "member-card"
    memberCard.innerHTML = `
            <img src="${member.avatar}" alt="${member.name}" class="member-avatar">
            <div class="member-name">${member.name}</div>
            <div class="member-role">${member.role}</div>
        `
    teamMembersGrid.appendChild(memberCard)
  })

  // Add empty slots (max 5 members)
  const emptySlots = 5 - members.length
  for (let i = 0; i < emptySlots; i++) {
    const emptySlot = document.createElement("div")
    emptySlot.className = "empty-slot"
    emptySlot.innerHTML = `
            <i class="fas fa-plus"></i>
            <span>Empty Slot</span>
        `
    emptySlot.onclick = () => openPlayerInviteModal()
    teamMembersGrid.appendChild(emptySlot)
  }
}

// Close team modal
function closeTeamModal() {
  teamModal.classList.remove("show")
  document.body.style.overflow = "auto"
  currentTeamId = null
}

// Open player invitation modal
function openPlayerInviteModal() {
  // Reset search
  playerSearchInput.value = ""

  // Populate available players
  renderAvailablePlayers(samplePlayers)

  // Show modal
  playerInviteModal.classList.add("show")
}

// Close player invitation modal
function closePlayerInviteModal() {
  playerInviteModal.classList.remove("show")
}

// Render available players for invitation
function renderAvailablePlayers(players) {
  playersList.innerHTML = ""

  if (players.length === 0) {
    playersList.innerHTML = '<div class="text-center text-gray-500 py-8">No players found</div>'
    return
  }

  players.forEach((player) => {
    const isInvited = invitedPlayers.has(player.id)
    const playerItem = document.createElement("div")
    playerItem.className = `player-item ${isInvited ? "invited" : ""}`
    playerItem.innerHTML = `
            <img src="${player.avatar}" alt="${player.name}" class="player-item-avatar">
            <div class="player-item-info">
                <div class="player-item-name">${player.name}</div>
                <div class="player-item-stats">${player.stats}</div>
            </div>
            <button class="player-invite-btn" ${isInvited ? "disabled" : ""} onclick="invitePlayer(${player.id}, '${player.name}')">
                ${isInvited ? "Invited" : "Invite"}
            </button>
        `
    playersList.appendChild(playerItem)
  })
}

// Invite player to team
function invitePlayer(playerId, playerName) {
  invitedPlayers.add(playerId)

  // Update the button
  const playerItem = event.target.closest(".player-item")
  playerItem.classList.add("invited")
  event.target.textContent = "Invited"
  event.target.disabled = true

  // Show success message
  showNotification(`Invitation sent to ${playerName}!`)

  // In a real application, this would send an API request
  console.log(`Inviting player ${playerId} to team ${currentTeamId}`)
}

// Search players
function searchPlayers() {
  const searchTerm = playerSearchInput.value.toLowerCase()
  const filteredPlayers = samplePlayers.filter(
    (player) => player.name.toLowerCase().includes(searchTerm) || player.username.toLowerCase().includes(searchTerm),
  )
  renderAvailablePlayers(filteredPlayers)
}

// Open modal to create a team
function openCreateTeamModal() {
  const form = document.createElement("form")
  form.className = "space-y-4"
  form.innerHTML = `
        <h3 class="text-[#FFA700] text-xl font-bold mb-4">Create My Team</h3>
        <label class="block text-gray-200 font-semibold">Team Name <input required name="name" type="text" class="w-full mt-1 px-3 py-2 rounded bg-[#141414] focus:ring-yellow-400 focus:outline-none text-gray-200" /></label>
        <label class="block text-gray-200 font-semibold">Game <select required name="game" class="w-full mt-1 px-3 py-2 rounded bg-[#141414] focus:ring-yellow-400 focus:outline-none text-gray-200">
          <option value="">Select game</option>
          <option value="BGMI">BGMI</option>
          <option value="cs2">CS-2</option>
          <option value="valorant">Valorant</option>
        </select></label>
        <label class="block text-gray-200 font-semibold">Description <textarea required name="description" rows="3" class="w-full mt-1 px-3 py-2 rounded bg-[#141414] focus:ring-yellow-400 focus:outline-none text-gray-200"></textarea></label>
        <label class="block text-gray-200 font-semibold">Image URL <input name="image" type="url" placeholder="https://example.com/image.png" class="w-full mt-1 px-3 py-2 rounded bg-[#141414] focus:ring-yellow-400 focus:outline-none text-gray-200" /></label>
        <div class="flex justify-end space-x-2">
          <button type="submit" class="primary-btn bg-[#FFa700] hover:bg-[#DF2A00] px-4 py-2 rounded font-semibold transition">Create</button>
          <button type="button" id="cancelCreateTeam" class="bg-[#FFa700] hover:bg-[#DF2A00] px-4 py-2 rounded font-semibold transition">Cancel</button>
        </div>
    `

  form.onsubmit = (e) => {
    e.preventDefault()
    const formData = new FormData(form)
    const newTeam = {
      id: Date.now(),
      name: formData.get("name").trim(),
      game: formData.get("game"),
      description: formData.get("description"),
      image: formData.get("image") || "https://placehold.co/400x160/png?text=No+Image",
      created: new Date().toISOString().split("T")[0],
      members: [
        {
          id: currentUser.id,
          name: currentUser.name,
          role: "Captain",
          avatar: currentUser.avatar || "https://i.pravatar.cc/150?img=1",
        },
      ],
    }

    teamsData.push(newTeam)
    renderTeams(filterTeams.value)
    closeModal()
    showNotification("Team created successfully!")
  }

  form.querySelector("#cancelCreateTeam").onclick = closeModal
  openModal(form)
}

// Modal functions
function openModal(contentHtml) {
  const modalBg = document.getElementById("modalBg")
  const modalBody = document.getElementById("modalBody")

  modalBody.innerHTML = ""
  modalBody.appendChild(contentHtml)
  modalBg.classList.remove("hidden")
  modalBg.classList.add("flex")
  modalBg.focus()
}

function closeModal() {
  const modalBg = document.getElementById("modalBg")
  const modalBody = document.getElementById("modalBody")

  modalBg.classList.remove("flex")
  modalBg.classList.add("hidden")
  modalBody.innerHTML = ""
}

// Listen for profile updates from edit page
window.addEventListener("profileUpdated", (event) => {
  const updatedUserData = event.detail.userData
  currentUser = {
    ...currentUser,
    ...updatedUserData,
    statistics: currentUser.statistics, // Preserve statistics
  }
  updateProfileDisplay()
})

// Listen for avatar updates
window.addEventListener("avatarUpdated", (event) => {
  const { avatarUrl } = event.detail
  updateAllAvatarImages(avatarUrl)
})

// Initial setup
function init() {
  // Show preloader
  preloader.classList.remove("fade-out")

  // Check if user is logged in
  const userData = userManager.getCurrentUser()

  if (!userData) {
    console.log("No user logged in")
    preloader.classList.add("fade-out")
    setTimeout(() => {
      preloader.style.display = "none"
    }, 500)

    alert("Please log in to view your profile")
    return
  }

  // Simulate loading delay
  setTimeout(() => {
    preloader.classList.add("fade-out")
    setTimeout(() => {
      preloader.style.display = "none"
    }, 500)

    loadUserProfile()
  }, 1500)

  // Initialize teams data
  teamsData = [...sampleTeams]
  renderTeams()

  // Event listeners
  if (profileDropdownToggle) {
    profileDropdownToggle.onclick = () => {
      const expanded = profileDropdownToggle.getAttribute("aria-expanded") === "true"
      if (expanded) hideProfileMenu()
      else toggleProfileMenu()
    }
  }

  // Close profile menu when clicking outside
  document.addEventListener("click", (e) => {
    if (
      profileDropdownToggle &&
      profileMenu &&
      !profileDropdownToggle.contains(e.target) &&
      !profileMenu.contains(e.target)
    ) {
      hideProfileMenu()
    }
  })

  // Logout button
  if (btnLogout) {
    btnLogout.onclick = () => {
      localStorage.removeItem("currentUser")
      localStorage.removeItem("userData")
      localStorage.removeItem("friendsList")
      localStorage.removeItem("profileViewData")

      currentUser = null
      window.location.href = "index.html"
    }
  }

  // Menu options
  const menuGeneral = document.getElementById("menu-general")
  if (menuGeneral)
    menuGeneral.onclick = () => {
      switchTab("general")
      hideProfileMenu()
    }

  const menuTeams = document.getElementById("menu-teams")
  if (menuTeams)
    menuTeams.onclick = () => {
      switchTab("teams")
      hideProfileMenu()
    }

  const menuWallet = document.getElementById("menu-wallet")
  if (menuWallet)
    menuWallet.onclick = () => {
      showWalletSection()
      hideProfileMenu()
    }

  // Tab buttons
  tabButtons.forEach((btn) => {
    btn.addEventListener("click", () => switchTab(btn.dataset.tab))
  })

  // Filter change events
  if (filterTeams) {
    filterTeams.addEventListener("change", () => {
      renderTeams(filterTeams.value)
    })
  }

  // Create team button
  if (btnCreateTeam) {
    btnCreateTeam.onclick = openCreateTeamModal
  }

  // Team modal events
  if (teamModalClose) {
    teamModalClose.onclick = closeTeamModal
  }

  if (invitePlayersBtn) {
    invitePlayersBtn.onclick = openPlayerInviteModal
  }

  // Player invite modal events
  if (playerInviteModalClose) {
    playerInviteModalClose.onclick = closePlayerInviteModal
  }

  if (playerSearchInput) {
    playerSearchInput.addEventListener("input", searchPlayers)
  }

  // Close modals when clicking outside
  teamModal.addEventListener("click", (e) => {
    if (e.target === teamModal) {
      closeTeamModal()
    }
  })

  playerInviteModal.addEventListener("click", (e) => {
    if (e.target === playerInviteModal) {
      closePlayerInviteModal()
    }
  })

  // Modal close button
  const modalCloseBtn = document.getElementById("modalCloseBtn")
  if (modalCloseBtn) {
    modalCloseBtn.onclick = closeModal
  }

  const modalBg = document.getElementById("modalBg")
  if (modalBg) {
    modalBg.addEventListener("click", (e) => {
      if (e.target === modalBg) closeModal()
    })
  }

  // Keyboard accessibility
  document.addEventListener("keydown", (e) => {
    if (e.key === "Escape") {
      if (!teamModal.classList.contains("show") && !playerInviteModal.classList.contains("show")) {
        const modalBg = document.getElementById("modalBg")
        if (modalBg && !modalBg.classList.contains("hidden")) {
          closeModal()
        }
      } else if (playerInviteModal.classList.contains("show")) {
        closePlayerInviteModal()
      } else if (teamModal.classList.contains("show")) {
        closeTeamModal()
      }
    }
  })
}
// Game Account Modal Script (existing functionality)
;(() => {
  const gamesModal = document.getElementById("gamesModal")
  const addAccountModal = document.getElementById("addAccountModal")
  const openGamesModalBtn = document.getElementById("openGamesModalBtn")
  const closeGamesModalBtn = document.getElementById("closeGamesModal")
  const closeAddAccountModalBtn = document.getElementById("closeAddAccountModal")
  const gameCardsContainer = document.getElementById("gameCards")
  const createdAccountsContainer = document.getElementById("createdAccounts")
  const noAccountsMessage = document.getElementById("noAccountsMessage")
  const clearAllAccountsBtn = document.getElementById("clearAllAccounts")
  const accountForm = document.getElementById("accountForm")
  const connectAccountBtn = document.getElementById("connectAccountBtn")
  const platformInput = document.getElementById("platform")
  const inGameNameInput = document.getElementById("inGameName")
  const steamIdInput = document.getElementById("steamId")
  const gameLogoImg = document.getElementById("gameLogo")

  // Define games data
  const games = [
    {
      id: "dota2",
      name: "DOTA 2",
      logo: "https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/51b34267-b54c-4a51-88bf-59b83ef92c87.png " ,
      alt: "DOTA 2 game logo in black background with stylized white text and icon",
    },
    {
      id: "csgo",
      name: "Counter Strike: Global Offensive",
      logo: "https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/ece12ab8-d823-49cf-8b58-1f08f84eb2be.png",
      alt: "Counter Strike Global Offensive game logo with gray background and white text",
    },
    {
      id: "valorant",
      name: "Valorant",
      logo: "https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/912274b1-e702-464a-b306-01ca56e00292.png",
      alt: "Valorant game logo in dark red background with white text",
    },
    {
      id: "apex",
      name: "Apex Legends",
      logo: "https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/09bf390e-1fb4-4218-9f60-8152c25f717a.png",
      alt: "Apex Legends game logo with black background and white text",
    },
  ]

  let currentSelectedGame = null

  function getStoredAccounts() {
    const data = localStorage.getItem("gameAccounts")
    if (!data) return []
    try {
      return JSON.parse(data)
    } catch (e) {
      return []
    }
  }

  function saveAccounts(accounts) {
    localStorage.setItem("gameAccounts", JSON.stringify(accounts))
  }

  function renderGameCards() {
    if (!gameCardsContainer) return

    gameCardsContainer.innerHTML = ""
    games.forEach((game) => {
      const card = document.createElement("button")
      card.type = "button"
           card.className = ' h- 20vh game-card bg-gray-700 rounded-lg shadow-md flex flex-col items-center text-center p-4 hover:bg-yellow-600 hover:text-black transition focus:outline-none border border-gray-600 hover:border-yellow-400';
       card.style.height = '20vh';
card.style.backgroundColor = '#141414';
      card.setAttribute("aria-label", `Select ${game.name} to add account`)
      card.dataset.gameId = game.id

      const img = document.createElement("img")
      img.src = game.logo
      img.alt = game.alt
      img.className = "mb-3 h-12 object-contain"
      img.onerror = function () {
        this.style.display = "none"
      }

      const title = document.createElement("span")
      title.textContent = game.name
      title.className = "font-semibold text-lg text-white"

      card.appendChild(img)
      card.appendChild(title)
      card.addEventListener("click", () => openAddAccountModal(game.id))
      gameCardsContainer.appendChild(card)
    })
  }

  function renderCreatedAccounts() {
    if (!createdAccountsContainer || !noAccountsMessage) return

    const accounts = getStoredAccounts()
    createdAccountsContainer.innerHTML = ""
    if (accounts.length === 0) {
      noAccountsMessage.style.display = "block"
      clearAllAccountsBtn.disabled = true
      return
    }

    noAccountsMessage.style.display = "none"
    clearAllAccountsBtn.disabled = false
    accounts.forEach((account, index) => {
      const card = document.createElement("section")
      card.className =
        "bg-gray-700 rounded-lg p-4 flex flex-col shadow-md text-sm relative hover:ring-2 ring-yellow-400 transition border border-gray-600"

card.style.backgroundColor = '#141414';
      const game = games.find((g) => g.id === account.gameId)
      let gameLogoSrc = ""
      let gameAlt = ""
      if (game) {
        gameLogoSrc = game.logo
        gameAlt = game.alt
      }

      const logoWrapper = document.createElement("div")
      logoWrapper.className =
        "absolute top-3 left-3 w-10 h-10 bg-gray-900 rounded-md flex items-center justify-center shadow-inner"
      const logoImg = document.createElement("img")
      logoImg.src = gameLogoSrc
      logoImg.alt = gameAlt
      logoImg.className = "max-h-8 max-w-full object-contain"
      logoImg.onerror = function () {
        this.style.display = "none"
      }
      logoWrapper.appendChild(logoImg)
      card.appendChild(logoWrapper)

      const content = document.createElement("div")
      content.className = "pl-14 space-y-1"
      const gameNameEl = document.createElement("p")
      gameNameEl.textContent = game ? game.name : "Unknown Game"
      gameNameEl.className = "font-semibold text-white"
      const platformEl = document.createElement("p")
      platformEl.textContent = `Platform: ${account.platform}`
      const inGameNameEl = document.createElement("p")
      inGameNameEl.textContent = `In-game name: ${account.inGameName}`
      const steamIdEl = document.createElement("p")
      steamIdEl.textContent = `Steam ID: ${account.steamId || "N/A"}`

      content.appendChild(gameNameEl)
      content.appendChild(platformEl)
      content.appendChild(inGameNameEl)
      content.appendChild(steamIdEl)
      card.appendChild(content)

      const deleteBtn = document.createElement("button")
      deleteBtn.setAttribute("aria-label", "Delete this account")
      deleteBtn.title = "Delete this account"
      deleteBtn.className = "absolute top-3 right-3 text-red-500 hover:text-red-400 transition focus:outline-none"
      deleteBtn.innerHTML = `
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="18" y1="6" x2="6" y2="18"/>
                    <line x1="6" y1="6" x2="18" y2="18"/>
                </svg>
            `
      deleteBtn.addEventListener("click", (e) => {
        e.stopPropagation()
        deleteAccount(index)
      })
      card.appendChild(deleteBtn)

      createdAccountsContainer.appendChild(card)
    })
  }

  function deleteAccount(index) {
    const accounts = getStoredAccounts()
    if (index >= 0 && index < accounts.length) {
      accounts.splice(index, 1)
      saveAccounts(accounts)
      renderCreatedAccounts()
    }
  }

  if (clearAllAccountsBtn) {
    clearAllAccountsBtn.addEventListener("click", () => {
      if (confirm("Are you sure you want to delete all saved accounts?")) {
        localStorage.removeItem("gameAccounts")
        renderCreatedAccounts()
      }
    })
  }

  function openAddAccountModal(gameId) {
    if (!addAccountModal) return

    currentSelectedGame = games.find((g) => g.id === gameId)
    if (!currentSelectedGame) return

    accountForm.reset()
    updateConnectButtonState()

    gameLogoImg.src = currentSelectedGame.logo
    gameLogoImg.alt = currentSelectedGame.alt
    addAccountModal.classList.remove("hidden")
    gamesModal.classList.add("hidden")
    platformInput.focus()
  }

  function closeAddAccountModalFn() {
    if (!addAccountModal) return

    addAccountModal.classList.add("hidden")
    gamesModal.classList.remove("hidden")
    currentSelectedGame = null
  }

  function updateConnectButtonState() {
    if (!connectAccountBtn || !platformInput || !inGameNameInput) return

    const isValid = platformInput.value.trim() && inGameNameInput.value.trim()
    connectAccountBtn.disabled = !isValid
  }

  if (accountForm) {
    accountForm.addEventListener("submit", (e) => {
      e.preventDefault()
      if (!currentSelectedGame) return

      const formData = new FormData(accountForm)
      const newAccount = {
        gameId: currentSelectedGame.id,
        platform: formData.get("platform"),
        inGameName: formData.get("inGameName"),
        steamId: formData.get("steamId") || "",
        createdAt: new Date().toISOString(),
      }

      const accounts = getStoredAccounts()
      accounts.push(newAccount)
      saveAccounts(accounts)

      renderCreatedAccounts()
      closeAddAccountModalFn()
      showNotification(`${currentSelectedGame.name} account added successfully!`)
    })
  }

  if (platformInput) {
    platformInput.addEventListener("input", updateConnectButtonState)
  }
  if (inGameNameInput) {
    inGameNameInput.addEventListener("input", updateConnectButtonState)
  }

  if (openGamesModalBtn) {
    openGamesModalBtn.addEventListener("click", () => {
      if (gamesModal) {
        gamesModal.classList.remove("hidden")
        renderGameCards()
        renderCreatedAccounts()
      }
    })
  }

  if (closeGamesModalBtn) {
    closeGamesModalBtn.addEventListener("click", () => {
      if (gamesModal) gamesModal.classList.add("hidden")
    })
  }

  if (closeAddAccountModalBtn) {
    closeAddAccountModalBtn.addEventListener("click", closeAddAccountModalFn)
  }

  // Close modals when clicking outside
  if (gamesModal) {
    gamesModal.addEventListener("click", (e) => {
      if (e.target === gamesModal) {
        gamesModal.classList.add("hidden")
      }
    })
  }

  if (addAccountModal) {
    addAccountModal.addEventListener("click", (e) => {
      if (e.target === addAccountModal) {
        closeAddAccountModalFn()
      }
    })
  }

  // Initialize
  renderGameCards()
  renderCreatedAccounts()
})()

// Initialize the application
document.addEventListener("DOMContentLoaded", init)

  </script>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const openTeamModalBtn = document.getElementById('openTeamModalBtn');
  const gameModal = document.getElementById('gameModal');
  const closeModal = document.getElementById('closeModal');
  const selectBtn = document.querySelector('.select-btn');
  const formModal = document.getElementById('createTeamForm');
  const closeFormBtn = document.getElementById('closeForm');
  const cancelFormBtn = document.getElementById('cancelForm');
  const teamCardsContainer = document.getElementById('teamCardsContainer');
  const joinButtons = document.querySelectorAll('.join-btn');
  const joinInfo = document.getElementById('joinTypeInfo');
  const textarea = document.querySelector('textarea[name="about"]');
  const charCount = document.getElementById('charCount');

  // Show game selection modal
  openTeamModalBtn.addEventListener('click', () => {
    gameModal.style.display = 'flex';
  });

  // Close game selection modal
  closeModal.addEventListener('click', () => {
    gameModal.style.display = 'none';
  });

  // Show team form modal when "Select" is clicked
  selectBtn.addEventListener('click', () => {
    gameModal.style.display = 'none';
    formModal.style.display = 'block';
  });

  closeFormBtn.addEventListener('click', () => formModal.style.display = 'none');
  cancelFormBtn.addEventListener('click', () => formModal.style.display = 'none');

  joinButtons.forEach(btn => {
    btn.addEventListener('click', () => {
      joinButtons.forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      joinInfo.textContent = btn.dataset.type === 'Public'
        ? 'Anybody can apply to join the team'
        : 'Only invited users can join the team';
    });
  });

  textarea.addEventListener('input', () => {
    charCount.textContent = textarea.value.length;
  });

  // Form submit
  document.getElementById('teamForm').addEventListener('submit', (e) => {
    e.preventDefault();
    const formData = new FormData(e.target);
    const team = {
      teamName: formData.get('teamName'),
      platform: formData.get('platform'),
      about: formData.get('about'),
      joinType: document.querySelector('.join-btn.active').dataset.type,
      allowTournament: formData.get('tournament') ? true : false
    };

    let teams = JSON.parse(localStorage.getItem('teams')) || [];
    teams.push(team);
    localStorage.setItem('teams', JSON.stringify(teams));

    renderTeams();
    e.target.reset();
    charCount.textContent = '0';
    formModal.style.display = 'none';
  });

function renderTeams() {
  teamCardsContainer.innerHTML = '';
  const teams = JSON.parse(localStorage.getItem('teams')) || [];

  teams.forEach((team, index) => {
    const card = document.createElement('div');
    card.className = 'team-card';

    card.innerHTML = `
      <h3 style="color: #ffa700;">${team.teamName}</h3>
      <p><strong>Platform:</strong> ${team.platform}</p>
      <p><strong>About:</strong> ${team.about}</p>
      <p><strong>Join Type:</strong> ${team.joinType}</p>
      <p><strong>Tournament Access:</strong> ${team.allowTournament ? '‚úÖ Allowed' : '‚ùå Not Allowed'}</p>
      <button class="delete-btn" data-index="${index}">Delete</button>
    `;

    // ‚úÖ Add the click event to open full team profile page
    card.addEventListener('click', (e) => {
      // Prevent delete button from triggering card click
      if (e.target.classList.contains('delete-btn')) return;
      localStorage.setItem('selectedTeam', JSON.stringify(team));
      window.location.href = 'team-profile.html';
    });

    teamCardsContainer.appendChild(card);
  });

  // Attach delete functionality
  const deleteButtons = document.querySelectorAll('.delete-btn');
  deleteButtons.forEach(btn => {
    btn.addEventListener('click', (e) => {
      e.stopPropagation(); // stop event from bubbling up to card
      const index = btn.getAttribute('data-index');
      let teams = JSON.parse(localStorage.getItem('teams')) || [];
      teams.splice(index, 1);
      localStorage.setItem('teams', JSON.stringify(teams));
      renderTeams();
    });
  });
}

  // Initial render
  renderTeams();
});
</script>

<!-- Modal Scoial Links -->
<script>
  const openBtn = document.getElementById('openSocialModalBtn');
  const modal = document.getElementById('socialModal');
  const closeBtn = document.getElementById('closeSocialModalBtn');
  const closeX = document.getElementById('closeSocialModalX');
  const saveBtn = document.getElementById('saveSocialLinksBtn');
  const displaySection = document.getElementById('socialLinksDisplay');

  // Open modal
  openBtn.addEventListener('click', () => {
    modal.style.display = 'flex';
  });

  // Close modal
  [closeBtn, closeX].forEach(btn =>
    btn.addEventListener('click', () => modal.style.display = 'none')
  );

  window.addEventListener('click', (e) => {
    if (e.target === modal) modal.style.display = 'none';
  });

  // Save Links
  saveBtn.addEventListener('click', () => {
    const links = {
      discord: document.getElementById('discordInput').value,
      facebook: document.getElementById('facebookInput').value,
      twitter: document.getElementById('twitterInput').value,
      instagram: document.getElementById('instagramInput').value,
      twitch: document.getElementById('twitchInput').value,
      youtube: document.getElementById('youtubeInput').value,
    };

    // Save to localStorage
    localStorage.setItem('socialLinks', JSON.stringify(links));
    renderSocialLinks();
    modal.style.display = 'none';
  });

  // Render links in profile section
  function renderSocialLinks() {
    const links = JSON.parse(localStorage.getItem('socialLinks'));
    displaySection.innerHTML = '';

    if (!links) return;

    for (const [platform, url] of Object.entries(links)) {
      if (url.trim() !== '') {
        const link = document.createElement('a');
        link.href = url;
        link.target = '_blank';
        link.className = 'social-icon';
        link.textContent = platform.charAt(0).toUpperCase() + platform.slice(1);
        displaySection.appendChild(link);
      }
    }
  }

  // Load on page
  document.addEventListener('DOMContentLoaded', renderSocialLinks);
</script>

</body>
</html>
