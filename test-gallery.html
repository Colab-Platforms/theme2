<!DOCTYPE html>
<html>
<head>
    <title>Gallery Test</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .test-result { margin: 10px 0; padding: 10px; border-radius: 5px; }
        .success { background: #d4edda; color: #155724; }
        .error { background: #f8d7da; color: #721c24; }
    </style>
</head>
<body>
    <h1>Gallery Page Loading Test</h1>
    <div id="testResults"></div>

    <script>
        function testElement(id, name) {
            const element = document.getElementById(id);
            const result = document.createElement('div');
            result.className = element ? 'test-result success' : 'test-result error';
            result.textContent = `${name}: ${element ? 'Found ✓' : 'Missing ✗'}`;
            document.getElementById('testResults').appendChild(result);
            return !!element;
        }

        function testScript(src, name) {
            const script = document.querySelector(`script[src="${src}"]`);
            const result = document.createElement('div');
            result.className = script ? 'test-result success' : 'test-result error';
            result.textContent = `${name}: ${script ? 'Loaded ✓' : 'Missing ✗'}`;
            document.getElementById('testResults').appendChild(result);
            return !!script;
        }

        function testCSS(href, name) {
            const link = document.querySelector(`link[href="${href}"]`);
            const result = document.createElement('div');
            result.className = link ? 'test-result success' : 'test-result error';
            result.textContent = `${name}: ${link ? 'Loaded ✓' : 'Missing ✗'}`;
            document.getElementById('testResults').appendChild(result);
            return !!link;
        }

        // Test if we can access the gallery page elements
        setTimeout(() => {
            const iframe = document.createElement('iframe');
            iframe.src = 'gallery.html';
            iframe.style.display = 'none';
            iframe.onload = function() {
                try {
                    const doc = iframe.contentDocument;
                    
                    // Test critical elements
                    testElement('videoGrid', 'Video Grid');
                    testElement('videoModal', 'Video Modal');
                    
                    // Test CSS files
                    testCSS('assets/css/bootstrap.min.css', 'Bootstrap CSS');
                    testCSS('assets/css/style.css', 'Main Style CSS');
                    testCSS('assets/css/fontawesome.min.css', 'FontAwesome CSS');
                    
                    // Test JS files
                    testScript('assets/js/vendor/jquery-7.1.1.slim.min.js', 'jQuery');
                    testScript('assets/js/bootstrap.min.js', 'Bootstrap JS');
                    testScript('assets/js/main.js', 'Main JS');
                    
                } catch (e) {
                    const result = document.createElement('div');
                    result.className = 'test-result error';
                    result.textContent = `Error accessing gallery.html: ${e.message}`;
                    document.getElementById('testResults').appendChild(result);
                }
            };
            
            iframe.onerror = function() {
                const result = document.createElement('div');
                result.className = 'test-result error';
                result.textContent = 'Failed to load gallery.html - file may be corrupted or have syntax errors';
                document.getElementById('testResults').appendChild(result);
            };
            
            document.body.appendChild(iframe);
        }, 1000);
    </script>
</body>
</html>
